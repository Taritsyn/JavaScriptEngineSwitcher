using System;
using System.Collections.Generic;
using System.Linq;
using System.Reflection;
using System.Threading.Tasks;

using JavaScriptEngineSwitcher.ChakraCore;
using JavaScriptEngineSwitcher.Core;

namespace JavaScriptEngineSwitcher.ConsoleApplication
{
    public class Program
    {
		static Program()
		{
			JsEngineSwitcher.Instance.EngineFactories
				.AddChakraCore()
				;
		}

		public static void Main(string[] args)
		{
			using (IJsEngine engine = JsEngineSwitcher.Instance.CreateEngine("ChakraCoreJsEngine"))
			{
				string result = engine.Evaluate<string>("'Число ПИ = ' + Math.PI;");
				Console.WriteLine(result);

				//				engine.Execute(@"function hello(name){
				//	return ""Привет, "" + name + ""!"";
				//}");
				//				string output = engine.CallFunction<string>("hello", new string[] { "Вася123" });

				//				Console.WriteLine("Result: {0}", output);
				Console.ReadLine();
			}
		}
	}
}